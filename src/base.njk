{# src/base.njk #}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% if title %}{{ title }} · {% endif %}Fernie Real Estate</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <link rel="stylesheet" href="/css/site.css">
  <link rel="stylesheet" href="/css/theme.css">
  <style>
    :root{
      --ink:#0f172a;
      --muted:#64748b;
      --border:#e5e7eb;
      --bg:#ffffff;
      --cozy:#faf7f3;         /* very light earthy/“cozy” tone */
      --cozy-2:#f6f3ee;
      --shadow:0 6px 18px rgba(0,0,0,.10);
    }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:#0a66c2;text-decoration:none}
    a:hover{text-decoration:underline}

    /* Sticky nav */
    .site-nav{
      position: sticky; top:0; z-index:50;
      background:#fff; border-bottom:1px solid var(--border);
      backdrop-filter:saturate(180%) blur(6px);
    }
    .site-nav .bar{
      max-width:1200px; margin:0 auto; padding:10px 16px;
      display:flex; align-items:center; gap:16px;
    }
    .brand{font-weight:700; letter-spacing:.2px}
    .spacer{flex:1}
    .nav-links{display:flex; gap:16px}
    .nav-links a{color:#0f172a; font-weight:500; text-decoration:none}
    .nav-links a:hover{opacity:.8}

    .container{max-width:1200px;margin:0 auto;padding:clamp(12px,2vw,24px)}
    footer.site{border-top:1px solid var(--border);margin-top:32px;padding:18px;color:#475569}
  </style>
  {% if head %}{{ head | safe }}{% endif %}
</head>
<body>
  <header class="site-nav">
    <div class="bar">
      <a class="brand" href="/">Fernie · Neighbourhoods</a>
      <div class="spacer"></div>
      <nav class="nav-links" aria-label="Main">
        <a href="/neighbourhoods/">Neighbourhoods</a>
        <a href="/search.html">Search</a>
        <a href="/contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    {{ content | safe }}
  </main>

  <footer class="site">
    <div class="container">
      © <span id="year"></span> Chris Crump · Fernie Real Estate
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
