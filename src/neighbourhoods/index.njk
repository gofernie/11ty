---
layout: layouts/site.njk
title: Fernie Neighbourhoods
permalink: /neighbourhoods/
---

{% set dataRows = neighbourhoods | default([]) %}
{% set collRows = collections['neighbourhoods'] | default([]) %}

{% set rows = dataRows %}
{% if not rows or (rows | length) == 0 %}
  {% set rows = collRows %}
{% endif %}

<section class="neigh-hero" aria-label="Neighbourhoods hero">
  <div class="wrap">
    <h1>Explore Fernie Neighbourhoods</h1>
  </div>
</section>

<section class="neigh-cards">
  <div class="wrap">
    {% if rows and (rows | length) %}
      <div class="grid">
        {% for item in rows %}
          {% set isPage = item.url is defined %}
          {% set title = isPage ? item.data.title : item.title %}
          {% set slug  = isPage ? item.fileSlug   : item.slug %}
          {% set url   = isPage ? item.url        : ('/neighbourhoods/' ~ (slug | url) ~ '/') %}
          {% set img   = isPage ? (item.data.img or item.data.image) : (item.img or item.image) %}
          {% set imgAlt = isPage ? (item.data.imgAlt or item.data.alt or title) : (item.imgAlt or item.alt or title) %}
          {% set desc  = isPage ? (item.data.desc or item.data.description) : (item.desc or item.description) %}

          <article class="card">
            <a class="card-link" href="{{ url }}">
              <div class="imgwrap">
                <img src="{{ (img or '/img/placeholder-800x500.jpg') | url }}"
                     alt="{{ imgAlt }}" loading="lazy" decoding="async">
              </div>
              <h2 class="title">{{ title }}</h2>
              {% if desc %}<p class="desc">{{ desc }}</p>{% endif %}
            </a>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p>No neighbourhoods found.</p>
    {% endif %}
  </div>
</section>

{% block head %}{% endblock %}

<style>
.neigh-hero{background:#e5e7eb;height:28vh;min-height:160px;max-height:360px;display:flex;align-items:center;margin:0;padding:0;border-bottom:1px solid #e2e8f0}
.neigh-hero .wrap,.neigh-cards .wrap{width:min(1200px,92%);margin:0 auto}
.neigh-hero h1{margin:0;font-size:2rem;font-weight:600;text-align:center}
.neigh-cards{padding:2rem 0 2.5rem}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem}
.card{background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.06);overflow:hidden;transition:transform .18s ease,box-shadow .18s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,.10)}
.card-link{display:block;color:inherit;text-decoration:none;height:100%}
.imgwrap{aspect-ratio:16/9;overflow:hidden;background:#f1f5f9}
.imgwrap img{width:100%;height:100%;object-fit:cover;display:block}
.title{font-size:1.125rem;line-height:1.3;margin:.75rem .9rem 0}
.desc{margin:.4rem .9rem 1rem;color:#475569;font-size:.95rem}
body>main section:first-child,main>section:first-child{margin-top:0!important}
</style>
