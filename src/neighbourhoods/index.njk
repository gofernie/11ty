---
layout: layouts/base.njk
title: Fernie Neighbourhoods
permalink: /neighbourhoods/
---

{% set rows = neighbourhoods | default([]) %}

<section class="neigh-hero" aria-label="Neighbourhoods hero">
  <div class="wrap">
    <h1>Explore Fernie Neighbourhoods</h1>
  </div>
</section>

<section class="neigh-cards">
  <div class="wrap">
    {% if rows and rows | length %}
      <div class="grid">
        {# Expect each row to have: slug, title, desc, img (or image) #}
        {% for n in rows %}
          <article class="card">
            <a class="card-link" href="/neighbourhoods/{{ n.slug | url }}/">
              <div class="imgwrap">
                <img
                  src="{{ n.img or n.image or '/img/placeholder-800x500.jpg' | url }}"
                  alt="{{ n.imgAlt or n.title or 'Neighbourhood image' }}"
                  loading="lazy"
                  decoding="async"
                >
              </div>
              <h2 class="title">{{ n.title }}</h2>
              {% if n.desc %}
                <p class="desc">{{ n.desc }}</p>
              {% endif %}
            </a>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p>No neighbourhoods found.</p>
    {% endif %}
  </div>
</section>

<style>
/* Page chrome */
.neigh-hero {
  background:#e5e7eb; /* grey */
  height:28vh; min-height:160px; max-height:360px;
  display:flex; align-items:center;
  margin:0; padding:0; /* keep flush under nav */
}
.neigh-hero .wrap { width:min(1200px, 92%); margin:0 auto; }
.neigh-hero h1 { margin:0; font-size:2rem; font-weight:600; }

/* Cards */
.neigh-cards { padding:2rem 0 2.5rem; }
.neigh-cards .wrap { width:min(1200px, 92%); margin:0 auto; }

.grid {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap:1.25rem;
}

.card {
  background:#fff; border-radius:16px;
  box-shadow: 0 4px 12px rgba(0,0,0,.06);
  overflow:hidden; transition: transform .18s ease, box-shadow .18s ease;
}
.card:hover { transform: translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.10); }

.card-link { display:block; color:inherit; text-decoration:none; height:100%; }

.imgwrap { aspect-ratio: 16/9; overflow:hidden; background:#f1f5f9; }
.imgwrap img {
  width:100%; height:100%; object-fit:cover; display:block;
  transform: translateZ(0);
}

.title { font-size:1.125rem; line-height:1.3; margin:.75rem .9rem 0; }
.desc  { margin:.4rem .9rem 1rem; color:#475569; font-size:.95rem; }

/* Remove any mysterious gap under fixed/sticky headers */
body > main section:first-child,
main > section:first-child { margin-top:0 !important; }
</style>
